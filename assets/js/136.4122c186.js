(window.webpackJsonp=window.webpackJsonp||[]).push([[136],{1024:function(t,a,s){"use strict";s.r(a);var e=s(106),r=Object(e.a)({},(function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("h1",{attrs:{id:"第十六章-redux"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#第十六章-redux"}},[t._v("#")]),t._v(" 第十六章：Redux")]),t._v(" "),s("h2",{attrs:{id:"一-简述"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#一-简述"}},[t._v("#")]),t._v(" 一. 简述")]),t._v(" "),s("p",[s("img",{attrs:{src:"https://s2.ax1x.com/2020/02/23/3lIX1H.md.png",alt:"16-1"}})]),t._v(" "),s("h2",{attrs:{id:"二-工作流程"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#二-工作流程"}},[t._v("#")]),t._v(" 二. 工作流程")]),t._v(" "),s("h3",{attrs:{id:"_1-图示"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_1-图示"}},[t._v("#")]),t._v(" 1. 图示")]),t._v(" "),s("p",[s("img",{attrs:{src:"https://s2.ax1x.com/2020/02/23/3loHrn.md.png",alt:"16-2"}})]),t._v(" "),s("h3",{attrs:{id:"_2-象形"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-象形"}},[t._v("#")]),t._v(" 2. 象形")]),t._v(" "),s("ol",[s("li",[t._v("React Components -> 一个人想要找一本书")]),t._v(" "),s("li",[t._v("Action Creators -> “我需要一本XX样的书”")]),t._v(" "),s("li",[t._v("Store -> 图书馆管理员")]),t._v(" "),s("li",[t._v("Reducers -> 管理员的记录手册")])]),t._v(" "),s("h4",{attrs:{id:"_2-1-大致流程"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-1-大致流程"}},[t._v("#")]),t._v(" 2.1 大致流程")]),t._v(" "),s("ul",[s("li",[t._v("一个人想要去图书馆找一本书")]),t._v(" "),s("li",[t._v("“我需要一本XX样的书”这句询问相当于一个Action")]),t._v(" "),s("li",[t._v("被询问对象是Store（图书馆管理员）")]),t._v(" "),s("li",[t._v("图书馆管理员需要查询自己的记录手册，才能确定图书的位置")]),t._v(" "),s("li",[t._v("管理员找到图书后告诉这个人具体的图书信息")])]),t._v(" "),s("h3",{attrs:{id:"_3-工作流程"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_3-工作流程"}},[t._v("#")]),t._v(" 3. 工作流程")]),t._v(" "),s("ol",[s("li",[t._v("组件内容发生变化")]),t._v(" "),s("li",[t._v("变化对应函数中定义action -> 指明action的type，以及变动的元素的value")]),t._v(" "),s("li",[t._v("此时store接收到组件变动信息，同时将state和action传给reducer")]),t._v(" "),s("li",[t._v("reducer先判断action.type，进入对应条件代码块")]),t._v(" "),s("li",[t._v("此时可以用深拷贝一个state的副本，使state对应副本的相应属性元素值发生改变")]),t._v(" "),s("li",[t._v("reducer返回state副本给store")]),t._v(" "),s("li",[t._v("此时store中的state已有最新的数据")]),t._v(" "),s("li",[t._v("在组件的构造方法中，订阅store -> 声明一个相应的函数 -> 在该函数中将store的state全部赋值给组件this.state")]),t._v(" "),s("li",[t._v("组件刷新render，界面得到更新")])]),t._v(" "),s("h2",{attrs:{id:"三-安装redux"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#三-安装redux"}},[t._v("#")]),t._v(" 三. 安装Redux")]),t._v(" "),s("div",{staticClass:"language-shell line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[t._v("yarn")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("add")]),t._v(" redux\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br")])]),s("h2",{attrs:{id:"四-actiontypes-js"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#四-actiontypes-js"}},[t._v("#")]),t._v(" 四. actionTypes.js")]),t._v(" "),s("ul",[s("li",[t._v("给项目解耦，将action.types对应的字符串抽离到这个文件上来")])]),t._v(" "),s("h2",{attrs:{id:"五-actioncreator-js"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#五-actioncreator-js"}},[t._v("#")]),t._v(" 五. actionCreator.js")]),t._v(" "),s("ul",[s("li",[t._v("统一创建action")])]),t._v(" "),s("h2",{attrs:{id:"六-注意"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#六-注意"}},[t._v("#")]),t._v(" 六. 注意")]),t._v(" "),s("ol",[s("li",[t._v("store是唯一的")]),t._v(" "),s("li",[t._v("只有store能够改变自己的内容")]),t._v(" "),s("li",[t._v("Reducer 必须是纯函数\n"),s("blockquote",[s("p",[t._v("纯函数：给定固定的输入，就一定会有固定的输出，而且不会有任何副作用")])])])]),t._v(" "),s("ad"),t._v(" "),s("comment")],1)}),[],!1,null,null,null);a.default=r.exports}}]);