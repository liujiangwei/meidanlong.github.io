(window.webpackJsonp=window.webpackJsonp||[]).push([[152],{900:function(t,s,a){"use strict";a.r(s);var n=a(106),e=Object(n.a)({},(function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h1",{attrs:{id:"第八章-代码优化"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#第八章-代码优化"}},[t._v("#")]),t._v(" 第八章：代码优化")]),t._v(" "),a("h2",{attrs:{id:"一-函数声明"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#一-函数声明"}},[t._v("#")]),t._v(" 一. 函数声明")]),t._v(" "),a("ul",[a("li",[t._v("函数声明建议放在构造函数中")]),t._v(" "),a("li",[t._v("this作用域指向更改，也建议放在构造函数中。保证函数绑定只会执行一次，也会节省子组件的无畏渲染")])]),t._v(" "),a("h2",{attrs:{id:"二-变量声明"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#二-变量声明"}},[t._v("#")]),t._v(" 二. 变量声明")]),t._v(" "),a("ul",[a("li",[t._v("父组件向子组件传值，可使用"),a("div",{staticClass:"language-javascript line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("content"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("idex"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("...")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("props"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br")])])])]),t._v(" "),a("h2",{attrs:{id:"三-jsx中抽离逻辑"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#三-jsx中抽离逻辑"}},[t._v("#")]),t._v(" 三. JSX中抽离逻辑")]),t._v(" "),a("ul",[a("li",[t._v("JSX中不应有太多逻辑，可以抽象一个方法，并将内容返回。同时在JSX中引入")])]),t._v(" "),a("h2",{attrs:{id:"四-setstate"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#四-setstate"}},[t._v("#")]),t._v(" 四. setState")]),t._v(" "),a("ul",[a("li",[t._v("新版React中建议使用函数形式"),a("div",{staticClass:"language-javascript line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// setState传入函数，代表是异步的，这是需要将e.target.value值暂存一下")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" value "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" e"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("target"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("value"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("setState")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n        inputValue "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" value\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 或")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("setState")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("inputValue "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" e"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("target"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("value"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br"),a("span",{staticClass:"line-number"},[t._v("7")]),a("br"),a("span",{staticClass:"line-number"},[t._v("8")]),a("br"),a("span",{staticClass:"line-number"},[t._v("9")]),a("br")])])]),t._v(" "),a("li",[t._v("setState接收一个参数prevState -> 代表修改数据之前的参数是什么 -> 等价于this.state")]),t._v(" "),a("li",[t._v("prevState可避免不小心修改了state的状态")])]),t._v(" "),a("h2",{attrs:{id:"五-其他"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#五-其他"}},[t._v("#")]),t._v(" 五. 其他")]),t._v(" "),a("ul",[a("li",[t._v("return返回一个对象 -> 对象是()")]),t._v(" "),a("li",[t._v("箭头函数指向一个函数 -> 函数是{}")])]),t._v(" "),a("ad"),t._v(" "),a("comment")],1)}),[],!1,null,null,null);s.default=e.exports}}]);