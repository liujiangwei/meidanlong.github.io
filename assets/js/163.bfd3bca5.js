(window.webpackJsonp=window.webpackJsonp||[]).push([[163],{1039:function(s,t,a){"use strict";a.r(t);var n=a(106),r=Object(n.a)({},(function(){var s=this,t=s.$createElement,a=s._self._c||t;return a("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[a("h1",{attrs:{id:"第二章-作用域和闭包"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#第二章-作用域和闭包"}},[s._v("#")]),s._v(" 第二章：作用域和闭包")]),s._v(" "),a("h2",{attrs:{id:"一-作用域"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#一-作用域"}},[s._v("#")]),s._v(" 一. 作用域")]),s._v(" "),a("p",[a("img",{attrs:{src:"https://s2.ax1x.com/2020/01/27/1ny8wd.png",alt:"2-1"}})]),s._v(" "),a("ul",[a("li",[a("p",[s._v("全局作用域")])]),s._v(" "),a("li",[a("p",[s._v("函数作用域")])]),s._v(" "),a("li",[a("p",[s._v("块级作用域")])])]),s._v(" "),a("blockquote",[a("p",[s._v("块级作用域指if、while等，包含在{}内的区域")])]),s._v(" "),a("h2",{attrs:{id:"二-自由变量"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#二-自由变量"}},[s._v("#")]),s._v(" 二. 自由变量")]),s._v(" "),a("ul",[a("li",[a("p",[s._v("一个变量在当前作用域没有定义，但被使用了")])]),s._v(" "),a("li",[a("p",[s._v("向上级作用域，一层一层一次寻找，直到找到为止")])]),s._v(" "),a("li",[a("p",[s._v("如果到全局作用域都没有找到，则会报错 “xx is not defined”")])])]),s._v(" "),a("h2",{attrs:{id:"三-闭包"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#三-闭包"}},[s._v("#")]),s._v(" 三. 闭包")]),s._v(" "),a("p",[s._v("闭包是作用域应用的特殊情况，有两种表现：")]),s._v(" "),a("h3",{attrs:{id:"_3-1-函数作为返回值"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-1-函数作为返回值"}},[s._v("#")]),s._v(" 3.1 函数作为返回值")]),s._v(" "),a("div",{staticClass:"language-javascript line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("function")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("create")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("const")]),s._v(" a "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("100")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("return")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("function")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n      console"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("a"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("const")]),s._v(" fn "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("create")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("const")]),s._v(" a "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("200")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("fn")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 打印结果为 ： 100")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br")])]),a("h3",{attrs:{id:"_3-2-函数作为参数被传递"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-2-函数作为参数被传递"}},[s._v("#")]),s._v(" 3.2 函数作为参数被传递")]),s._v(" "),a("div",{staticClass:"language-javascript line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("function")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("print")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[s._v("fn")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("const")]),s._v(" a "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("200")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("fn")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("const")]),s._v(" a "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("100")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("function")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("fn")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    console"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("a"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("print")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("fn"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 打印结果为：100")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br")])]),a("h3",{attrs:{id:"_3-3-闭包总结"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-3-闭包总结"}},[s._v("#")]),s._v(" 3.3 闭包总结")]),s._v(" "),a("p",[s._v("所有的自由变量的查找，是在函数定义的地方，向上级作用域查找，而不是在函数执行的地方")]),s._v(" "),a("h3",{attrs:{id:"_3-4-this"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-4-this"}},[s._v("#")]),s._v(" 3.4 this")]),s._v(" "),a("p",[s._v("这里推荐一篇小姐姐的博客，写得很好 -> "),a("a",{attrs:{href:"https://juejin.im/post/59bfe84351882531b730bac2#heading-3",target:"_blank",rel:"noopener noreferrer"}},[s._v("传送门"),a("OutboundLink")],1),a("br")]),s._v(" "),a("p",[s._v("我简单总结一下：")]),s._v(" "),a("ul",[a("li",[s._v("this 永远指向最后调用它的那个对象")]),s._v(" "),a("li",[s._v("如何改变this的指向？\n"),a("ol",[a("li",[s._v("箭头函数 -> "),a("code",[s._v("箭头函数的 this 始终指向函数定义时的 this，而非执行时")])]),s._v(" "),a("li",[s._v("在函数内部使用 _this = this -> 意思说是先拿到对象的引用，然后再用该引用调用对象的方法。可避免因为作用域问题导致的undefined")]),s._v(" "),a("li",[s._v("使用apply、call、bind函数 -> 这三个函数在调用的时候都将对象的引用作为参数传入，从而可以指定调用的对象，即改变this的指向")])])])]),s._v(" "),a("h3",{attrs:{id:"_3-5-闭包的示例"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-5-闭包的示例"}},[s._v("#")]),s._v(" 3.5 闭包的示例")]),s._v(" "),a("ul",[a("li",[s._v("隐藏数据，如当做cache缓存")])]),s._v(" "),a("ad"),s._v(" "),a("comment")],1)}),[],!1,null,null,null);t.default=r.exports}}]);