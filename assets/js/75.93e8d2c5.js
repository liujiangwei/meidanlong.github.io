(window.webpackJsonp=window.webpackJsonp||[]).push([[75],{963:function(r,t,e){"use strict";e.r(t);var s=e(106),o=Object(s.a)({},(function(){var r=this,t=r.$createElement,e=r._self._c||t;return e("ContentSlotsDistributor",{attrs:{"slot-key":r.$parent.slotKey}},[e("h1",{attrs:{id:"dubbo-调用流程-与-多协议解析"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#dubbo-调用流程-与-多协议解析"}},[r._v("#")]),r._v(" Dubbo 调用流程 与 多协议解析")]),r._v(" "),e("h2",{attrs:{id:"一、调用流程"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#一、调用流程"}},[r._v("#")]),r._v(" 一、调用流程")]),r._v(" "),e("p",[e("a",{attrs:{href:"https://imgtu.com/i/WYgrDO",target:"_blank",rel:"noopener noreferrer"}},[e("img",{attrs:{src:"https://z3.ax1x.com/2021/07/20/WYgrDO.png",alt:"WYgrDO.png"}}),e("OutboundLink")],1)]),r._v(" "),e("ul",[e("li",[r._v("0、Container是Dubbo提供的容器，用于承载Provider。")]),r._v(" "),e("li",[r._v("1、Provider会在启动时，将自己的“家庭地址”注册在注册中心里。")]),r._v(" "),e("li",[r._v("2、Consumer这个私家侦探，会在注册中心留下眼线【subscribe】")]),r._v(" "),e("li",[r._v("3、当注册中心出现变化时，就通知【notify】相关的Consumer，Consumer会将这些地址缓存在本地中，产生一个Provider住址列表")]),r._v(" "),e("li",[r._v("4、当Consumer需要时，就会根据本地缓存的住址列表，抄家伙去对应的家庭住址找Provider的麻烦")]),r._v(" "),e("li",[r._v("5、dubbo本身是有监控的【Monitor】，provider和consumer都会将一些统计信息进行监控。")])]),r._v(" "),e("h2",{attrs:{id:"二、协议剖析"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#二、协议剖析"}},[r._v("#")]),r._v(" 二、协议剖析")]),r._v(" "),e("p",[r._v("Dubbo框架默认支持的阿里的dubbo协议，同时还支持包括rmi、hessian、http、webservice、thrift、redis在内的多种协议，下面我们来了解一下这些协议的区别与适用场景。\n"),e("a",{attrs:{href:"https://imgtu.com/i/WY2SqU",target:"_blank",rel:"noopener noreferrer"}},[e("img",{attrs:{src:"https://z3.ax1x.com/2021/07/20/WY2SqU.md.png",alt:"WY2SqU.md.png"}}),e("OutboundLink")],1)]),r._v(" "),e("ul",[e("li",[r._v("Dubbo协议特点： 传入传出参数数据包较小（建议小于100K），消费者比提供者个数多，单一消费者无法压满提供者，尽量不要用dubbo协议传输大文件或超大字符串，基于以上描述，我们一般建议Dubbo用于小数据量大并发的服务调用，以及服务消费者机器数远大于服务提供者机器数的情况。")]),r._v(" "),e("li",[r._v("RMI协议特点： 传入传出参数数据包大小混合，消费者与提供者个数差不多，可传文件。基于以上描述，我们一般对传输管道和效率没有那么高的要求，同时又有传输文件这一类的要求时，可以尝试采用RMI协议。")]),r._v(" "),e("li",[r._v("Hessian协议特点： 传入传出参数数据包大小混合，提供者比消费者个数多，可用浏览器查看，可用表单或URL传入参数，暂不支持传文件。比较适用于需同时给应用程序和浏览器JS使用的服务，Hessian协议的相关内容与HTTP基本差不多，这里就不再赘述了。")]),r._v(" "),e("li",[r._v("WebService协议特点： 基于CXF的frontend-simple和transports-http实现，适用于系统集成，跨语言调用。 不过如非必要，强烈不推荐使用这个方式，WebService是一个相对比较重的协议传输类型，无论从性能、效率和安全性上都不太能满足微服务的需要，如果确实存在异构系统的调用，建议可以采用其他的形式。")]),r._v(" "),e("li",[r._v("其余的memcached、Redis的协议之类的，使用的场景比较少")])]),r._v(" "),e("hr"),r._v(" "),e("p",[r._v("::: 划重点")]),r._v(" "),e("ol",[e("li",[r._v("Consumer 会将注册中心中的地址缓存在本地")]),r._v(" "),e("li",[r._v("Dubbo协议用于小数据量大并发的服务调用\n:::")])]),r._v(" "),e("ad"),r._v(" "),e("comment")],1)}),[],!1,null,null,null);t.default=o.exports}}]);