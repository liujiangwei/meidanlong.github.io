(window.webpackJsonp=window.webpackJsonp||[]).push([[83],{969:function(t,r,a){"use strict";a.r(r);var e=a(106),s=Object(e.a)({},(function(){var t=this,r=t.$createElement,a=t._self._c||r;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h1",{attrs:{id:"bean"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#bean"}},[t._v("#")]),t._v(" Bean")]),t._v(" "),a("h2",{attrs:{id:"一、ioc思想"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#一、ioc思想"}},[t._v("#")]),t._v(" 一、IOC思想")]),t._v(" "),a("h3",{attrs:{id:"_1、类不交由spring容器管理"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1、类不交由spring容器管理"}},[t._v("#")]),t._v(" 1、类不交由Spring容器管理")]),t._v(" "),a("p",[t._v("手动new一个接口的实现类，一旦实现类型更改，则需要更改代码，并且使用者必须非常明确自己要调用哪个实现类，才能保证调用没有问题")]),t._v(" "),a("h3",{attrs:{id:"_2、ioc优势"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2、ioc优势"}},[t._v("#")]),t._v(" 2、IOC优势")]),t._v(" "),a("ol",[a("li",[t._v("松耦合")]),t._v(" "),a("li",[t._v("灵活性")]),t._v(" "),a("li",[t._v("可维护")])]),t._v(" "),a("h2",{attrs:{id:"二、bean配置方式"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#二、bean配置方式"}},[t._v("#")]),t._v(" 二、Bean配置方式")]),t._v(" "),a("h3",{attrs:{id:"_1、xml"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1、xml"}},[t._v("#")]),t._v(" 1、xml")]),t._v(" "),a("p",[t._v("优点：")]),t._v(" "),a("ol",[a("li",[t._v("低耦合")]),t._v(" "),a("li",[t._v("对象关系清晰")]),t._v(" "),a("li",[t._v("集中管理")])]),t._v(" "),a("p",[t._v("缺点：")]),t._v(" "),a("ol",[a("li",[t._v("配置繁琐")]),t._v(" "),a("li",[t._v("开发效率低")]),t._v(" "),a("li",[t._v("文件解析耗时")])]),t._v(" "),a("h4",{attrs:{id:"_1-1-无参构造"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-1-无参构造"}},[t._v("#")]),t._v(" 1.1 无参构造")]),t._v(" "),a("p",[a("a",{attrs:{href:"https://imgtu.com/i/WvDm1s",target:"_blank",rel:"noopener noreferrer"}},[a("img",{attrs:{src:"https://z3.ax1x.com/2021/07/31/WvDm1s.md.png",alt:"WvDm1s.md.png"}}),a("OutboundLink")],1)]),t._v(" "),a("h4",{attrs:{id:"_1-2-有参构造"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-2-有参构造"}},[t._v("#")]),t._v(" 1.2 有参构造")]),t._v(" "),a("p",[a("a",{attrs:{href:"https://imgtu.com/i/WvDNcR",target:"_blank",rel:"noopener noreferrer"}},[a("img",{attrs:{src:"https://z3.ax1x.com/2021/07/31/WvDNcR.md.png",alt:"WvDNcR.md.png"}}),a("OutboundLink")],1)]),t._v(" "),a("h4",{attrs:{id:"_1-3-静态工厂方法"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-3-静态工厂方法"}},[t._v("#")]),t._v(" 1.3 静态工厂方法")]),t._v(" "),a("p",[a("a",{attrs:{href:"https://imgtu.com/i/WvDrND",target:"_blank",rel:"noopener noreferrer"}},[a("img",{attrs:{src:"https://z3.ax1x.com/2021/07/31/WvDrND.md.png",alt:"WvDrND.md.png"}}),a("OutboundLink")],1)]),t._v(" "),a("h4",{attrs:{id:"_1-4-实例工厂方法"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-4-实例工厂方法"}},[t._v("#")]),t._v(" 1.4 实例工厂方法")]),t._v(" "),a("p",[a("a",{attrs:{href:"https://imgtu.com/i/WvDOuq",target:"_blank",rel:"noopener noreferrer"}},[a("img",{attrs:{src:"https://z3.ax1x.com/2021/07/31/WvDOuq.md.png",alt:"WvDOuq.md.png"}}),a("OutboundLink")],1)]),t._v(" "),a("h3",{attrs:{id:"_2、注解"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2、注解"}},[t._v("#")]),t._v(" 2、注解")]),t._v(" "),a("p",[t._v("优点：")]),t._v(" "),a("ol",[a("li",[t._v("使用简单")]),t._v(" "),a("li",[t._v("开发效率高")]),t._v(" "),a("li",[t._v("高内聚（在同一个文件中声明Bean）")])]),t._v(" "),a("p",[t._v("缺点：")]),t._v(" "),a("ol",[a("li",[t._v("配置分散")]),t._v(" "),a("li",[t._v("对象关系不清晰")]),t._v(" "),a("li",[t._v("配置修改需要重新编译工程")])]),t._v(" "),a("h4",{attrs:{id:"_2-1-component声明"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-1-component声明"}},[t._v("#")]),t._v(" 2.1 @Component声明")]),t._v(" "),a("div",{staticClass:"language-java line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-java"}},[a("code",[a("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[t._v("@Component")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("HelloService")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br")])]),a("h4",{attrs:{id:"_2-2-配置类中使用-bean"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-2-配置类中使用-bean"}},[t._v("#")]),t._v(" 2.2 配置类中使用@Bean")]),t._v(" "),a("p",[a("a",{attrs:{href:"https://imgtu.com/i/WvsKoT",target:"_blank",rel:"noopener noreferrer"}},[a("img",{attrs:{src:"https://z3.ax1x.com/2021/07/31/WvsKoT.md.png",alt:"WvsKoT.md.png"}}),a("OutboundLink")],1)]),t._v(" "),a("h4",{attrs:{id:"_2-3-实现factorybean"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-3-实现factorybean"}},[t._v("#")]),t._v(" 2.3 实现FactoryBean")]),t._v(" "),a("p",[a("a",{attrs:{href:"https://imgtu.com/i/Wvsne0",target:"_blank",rel:"noopener noreferrer"}},[a("img",{attrs:{src:"https://z3.ax1x.com/2021/07/31/Wvsne0.md.png",alt:"Wvsne0.md.png"}}),a("OutboundLink")],1)]),t._v(" "),a("h4",{attrs:{id:"_2-4-实现beandefinitionregistrypostprocessor"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-4-实现beandefinitionregistrypostprocessor"}},[t._v("#")]),t._v(" 2.4 实现BeanDefinitionRegistryPostProcessor")]),t._v(" "),a("p",[a("a",{attrs:{href:"https://imgtu.com/i/WvsGl9",target:"_blank",rel:"noopener noreferrer"}},[a("img",{attrs:{src:"https://z3.ax1x.com/2021/07/31/WvsGl9.md.png",alt:"WvsGl9.md.png"}}),a("OutboundLink")],1)]),t._v(" "),a("h4",{attrs:{id:"_2-5-实现importbeandefinitionregistrar"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-5-实现importbeandefinitionregistrar"}},[t._v("#")]),t._v(" 2.5 实现ImportBeanDefinitionRegistrar")]),t._v(" "),a("p",[a("a",{attrs:{href:"https://imgtu.com/i/WvsUw6",target:"_blank",rel:"noopener noreferrer"}},[a("img",{attrs:{src:"https://z3.ax1x.com/2021/07/31/WvsUw6.md.png",alt:"WvsUw6.md.png"}}),a("OutboundLink")],1)]),t._v(" "),a("h2",{attrs:{id:"三-框架refresh"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#三-框架refresh"}},[t._v("#")]),t._v(" 三. 框架refresh()")]),t._v(" "),a("h3",{attrs:{id:"_1、简介"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1、简介"}},[t._v("#")]),t._v(" 1、简介")]),t._v(" "),a("ol",[a("li",[t._v("Bean配置读取加载入口")]),t._v(" "),a("li",[t._v("Spring框架启动流程")])]),t._v(" "),a("h3",{attrs:{id:"_2、流程"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2、流程"}},[t._v("#")]),t._v(" 2、流程")]),t._v(" "),a("p",[a("a",{attrs:{href:"https://imgtu.com/i/WvyDEV",target:"_blank",rel:"noopener noreferrer"}},[a("img",{attrs:{src:"https://z3.ax1x.com/2021/07/31/WvyDEV.md.png",alt:"WvyDEV.md.png"}}),a("OutboundLink")],1)]),t._v(" "),a("h4",{attrs:{id:"_1-preparerefresh"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-preparerefresh"}},[t._v("#")]),t._v(" 1. prepareRefresh")]),t._v(" "),a("ol",[a("li",[t._v("容器状态设置")]),t._v(" "),a("li",[t._v("初始化属性设置")]),t._v(" "),a("li",[t._v("检查必备属性是否存在")])]),t._v(" "),a("h4",{attrs:{id:"_2-obtainfreshbeanfactory"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-obtainfreshbeanfactory"}},[t._v("#")]),t._v(" 2. obtainFreshBeanFactory")]),t._v(" "),a("ol",[a("li",[t._v("设置beanFactory序列化id")]),t._v(" "),a("li",[t._v("后去beanFactory")])]),t._v(" "),a("h4",{attrs:{id:"_3-preparebeanfactory"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-preparebeanfactory"}},[t._v("#")]),t._v(" 3. prepareBeanFactory")]),t._v(" "),a("ol",[a("li",[t._v("设置beanFactory一些属性")]),t._v(" "),a("li",[t._v("添加后置处理器")]),t._v(" "),a("li",[t._v("设置忽略的自动装配接口")]),t._v(" "),a("li",[t._v("注册一些组件")])]),t._v(" "),a("h4",{attrs:{id:"_4-postprocessbeanfactory"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_4-postprocessbeanfactory"}},[t._v("#")]),t._v(" 4. postProcessBeanFactory")]),t._v(" "),a("ol",[a("li",[t._v("子类重写以在BeanFactory完成创建后做进一步设置")])]),t._v(" "),a("h4",{attrs:{id:"_5-invokebeanfactorypostprocessors"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_5-invokebeanfactorypostprocessors"}},[t._v("#")]),t._v(" 5. invokeBeanFactoryPostProcessors")]),t._v(" "),a("ol",[a("li",[t._v("调用BeanDefinitionRegistryPostProcessor实现向容器内添加bean定义")]),t._v(" "),a("li",[t._v("调用BeanFactoryPostProcessor实现向容器内bean的定义添加属性")])]),t._v(" "),a("p",[a("a",{attrs:{href:"https://imgtu.com/i/WxcKU0",target:"_blank",rel:"noopener noreferrer"}},[a("img",{attrs:{src:"https://z3.ax1x.com/2021/08/01/WxcKU0.md.png",alt:"WxcKU0.md.png"}}),a("OutboundLink")],1)]),t._v(" "),a("p",[a("a",{attrs:{href:"https://imgtu.com/i/Wx6s7q",target:"_blank",rel:"noopener noreferrer"}},[a("img",{attrs:{src:"https://z3.ax1x.com/2021/08/01/Wx6s7q.md.png",alt:"Wx6s7q.md.png"}}),a("OutboundLink")],1)]),t._v(" "),a("p",[a("a",{attrs:{href:"https://imgtu.com/i/Wx6W3F",target:"_blank",rel:"noopener noreferrer"}},[a("img",{attrs:{src:"https://z3.ax1x.com/2021/08/01/Wx6W3F.md.png",alt:"Wx6W3F.md.png"}}),a("OutboundLink")],1)]),t._v(" "),a("p",[a("a",{attrs:{href:"https://imgtu.com/i/Wx6IBR",target:"_blank",rel:"noopener noreferrer"}},[a("img",{attrs:{src:"https://z3.ax1x.com/2021/08/01/Wx6IBR.md.png",alt:"Wx6IBR.md.png"}}),a("OutboundLink")],1)]),t._v(" "),a("h4",{attrs:{id:"_6-registerbeanpostprocessor"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_6-registerbeanpostprocessor"}},[t._v("#")]),t._v(" 6. registerBeanPostProcessor")]),t._v(" "),a("ol",[a("li",[t._v("找到BeanPostProcessor的实现")]),t._v(" "),a("li",[t._v("排序后注册进容器内")])]),t._v(" "),a("h4",{attrs:{id:"_7-initmessagesource"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_7-initmessagesource"}},[t._v("#")]),t._v(" 7. initMessageSource")]),t._v(" "),a("ol",[a("li",[t._v("初始化国际化相关属性")])]),t._v(" "),a("h4",{attrs:{id:"_8-initapplicationeventmulticaster"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_8-initapplicationeventmulticaster"}},[t._v("#")]),t._v(" 8. initApplicationEventMulticaster")]),t._v(" "),a("ol",[a("li",[t._v("初始化事件广播器，注册到容器中")])]),t._v(" "),a("h4",{attrs:{id:"_9-onrefresh"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_9-onrefresh"}},[t._v("#")]),t._v(" 9. onRefresh")]),t._v(" "),a("ol",[a("li",[t._v("空实现")]),t._v(" "),a("li",[t._v("创建web容器")])]),t._v(" "),a("h4",{attrs:{id:"_10-registerlistener"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_10-registerlistener"}},[t._v("#")]),t._v(" 10. registerListener")]),t._v(" "),a("ol",[a("li",[t._v("添加容器内事件监听器至事件广播器中")]),t._v(" "),a("li",[t._v("派发早期事件")])]),t._v(" "),a("h4",{attrs:{id:"_11-finishbeanfactoryinitialization"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_11-finishbeanfactoryinitialization"}},[t._v("#")]),t._v(" 11. finishBeanFactoryInitialization")]),t._v(" "),a("ol",[a("li",[t._v("初始化所有剩下的单实例bean")])]),t._v(" "),a("h5",{attrs:{id:"_11-1-beandefinition"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_11-1-beandefinition"}},[t._v("#")]),t._v(" 11.1 BeanDefinition")]),t._v(" "),a("ol",[a("li",[t._v("一个对象在Spring中描述，RootBeanDefinition是其常见实现")]),t._v(" "),a("li",[t._v("通过操作BeanDefinition来完成bean实例化和属性注入")])]),t._v(" "),a("p",[a("a",{attrs:{href:"https://imgtu.com/i/WzSigU",target:"_blank",rel:"noopener noreferrer"}},[a("img",{attrs:{src:"https://z3.ax1x.com/2021/08/01/WzSigU.md.png",alt:"WzSigU.md.png"}}),a("OutboundLink")],1)]),t._v(" "),a("h5",{attrs:{id:"_11-2-自定义创建bean"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_11-2-自定义创建bean"}},[t._v("#")]),t._v(" 11.2 自定义创建bean")]),t._v(" "),a("p",[a("a",{attrs:{href:"https://imgtu.com/i/WzGFDe",target:"_blank",rel:"noopener noreferrer"}},[a("img",{attrs:{src:"https://z3.ax1x.com/2021/08/01/WzGFDe.md.png",alt:"WzGFDe.md.png"}}),a("OutboundLink")],1)]),t._v(" "),a("p",[a("a",{attrs:{href:"https://imgtu.com/i/WzGoad",target:"_blank",rel:"noopener noreferrer"}},[a("img",{attrs:{src:"https://z3.ax1x.com/2021/08/01/WzGoad.md.jpg",alt:"WzGoad.md.jpg"}}),a("OutboundLink")],1)]),t._v(" "),a("h4",{attrs:{id:"_12-finishrefresh"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_12-finishrefresh"}},[t._v("#")]),t._v(" 12. finishRefresh")]),t._v(" "),a("ol",[a("li",[t._v("初始化生命周期处理器")]),t._v(" "),a("li",[t._v("调用生命周期处理器onRefresh方法")]),t._v(" "),a("li",[t._v("发布ContextRefreshedEvent事件")]),t._v(" "),a("li",[t._v("JMX相关处理")])]),t._v(" "),a("h4",{attrs:{id:"_13-resetcommoncaches"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_13-resetcommoncaches"}},[t._v("#")]),t._v(" 13. resetCommonCaches")]),t._v(" "),a("ol",[a("li",[t._v("清除过程中产生的缓存")])]),t._v(" "),a("ad"),t._v(" "),a("comment")],1)}),[],!1,null,null,null);r.default=s.exports}}]);